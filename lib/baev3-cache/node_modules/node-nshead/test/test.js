var bufferpack = require('bufferpack');
var nshead = require('../index.js');
var assert = require('assert');
/*
var values = [1, 2, 3, 'atest', 'somethingelse'];
var format = '<b(first)b(second)b(third)5s(other)S(something)';

var packed = bufferpack.pack(format, values);
console.log('=======: ',packed);
var unpacked = bufferpack.unpack(format, packed, 0);
console.log('-------: ', unpacked);
*/




var test_obj = {
    'id': 123,
    'version': 1,
    'log_id': 10000,
    'provider': 'zcacheadapter',
    'magic_num': 0xfb709394,
    'reserved': 123,
    'body_len': 100
};

var pack = nshead.pack(test_obj);
console.log('------------ ', pack);


var unpack = nshead.unpack(pack);
console.log('++++++++++++ ', unpack);

console.dir(test_obj);
console.dir(unpack);


var z = 'zcacheadapter\u0000\u0000\u0000'
console.log(z.length);
