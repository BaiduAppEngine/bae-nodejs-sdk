
var mc = require('./lib/mcpack.node');
var buff_size = 2*1024*1024;
module.exports.json2pack = function (jsonObj) {
    var buf = new Buffer(buff_size);
    var jsonStr = JSON.stringify(jsonObj);
    var pack_len = mc.json2pack(jsonStr, buf);
    if (pack_len === undefined || pack_len <= 0) {
        return;
    } else {
        return buf.slice(0, pack_len);
    }
}

module.exports.pack2json = function (packBuf) {
    var json = mc.pack2json(packBuf);
    //console.log(json);
    if (json !== undefined) {
        return JSON.parse(json);
    }
    return;
}

